/**
 * mc-video-thumbnail v0.1.0 ()
 * Copyright 2015 Jesse Ocon
 * Licensed under MIT
 */
"use strict";!function(e,n,i){n.module("mcVideoThumbnail.controllers",[]).controller("TestController",["$scope",function(e){var n="Hello world!";e.message=n}])}(window,window.angular),function(e,n,i){n.module("mcVideoThumbnail.mcVideoThumbnail",[]).directive("testDirective",["$timeout",function(e){return{restrict:"E",transclude:!0,scope:{},templateUrl:"./tpl_thumbnailer.html",link:function(n,t){var o,d,a,u,r,l,m,c=t.find("canvas")[0],v=t.find("video")[0],s=c.getContext("2d");n.video=t.find("video")[0],n.dummyVideo=i,n.thumbs=[],n.intervalID=i,d=function(e){c.width=e.videoWidth,c.height=e.videoHeight},o=function(e){s.drawImage(v,0,0,e.videoWidth,e.videoHeight),n.$apply(function(){n.thumbs.push({data:c.toDataURL("image/png")})})},l=function(e){var i=o;n.intervalID=setInterval(function(){i(e)},1e3)},m=function(e){clearInterval(n.intervalID)},u=function(){o(n.dummyVideo),l(n.dummyVideo)},r=function(){m(n.intervalID)},a=function(e){d(e.currentTarget),n.dummyVideo=e.currentTarget.cloneNode(!0),t.append(n.dummyVideo),n.dummyVideo.addEventListener("loadeddata",u),n.dummyVideo.addEventListener("ended",r),n.dummyVideo.play()},n.init=function(){e(function(){v.addEventListener("loadeddata",a),v.addEventListener("error",function(){console.log("the video errored out")})},0,!1)},n.init()}}}])}(window,window.angular),function(e,n,i){n.module("mcVideoThumbnail",["mcVideoThumbnail.controllers","mcVideoThumbnail.mcVideoThumbnail"])}(window,window.angular);